<!-- TITLE: MongoDB Uni M220 -->
<!-- SUBTITLE: M220JS - BUilding a node.js mflix application with MongoDB -->

# Arrays
Arrays in documents are first class citizens. In MongoDB, `find({ "countries" : "UK"})` will match all documents where the "UK" is one of the `countries` array elements.

If wanting to match on multiple array elements:
* `find({"countries" : { $all : ["UK", "USA"]}})` - will match those documents where countries is "UK" and "USA" only.
* `find({"countries" : { $in : ["UK", "USA"]}})` - will match those documents where countries is either "UK" and/or "USA" only.


```
  static async getMoviesByCountry(searchCountries) {
    /**
    Ticket: Projection

    Write a query that matches movies with the countries in the "countries"
    list, but only returns the title and _id of each movie.

    Remember that in MongoDB, the $in operator can be used with a list to
    match one or more values of a specific field.
    */

    let cursor
    try {
      // TODO Ticket: Projection
      // Find movies matching the "countries" list, but only return the title
      // and _id. Do not put a limit in your own implementation, the limit
      // here is only included to avoid sending 46000 documents down the
      // wire.
      cursor = await movies
        .find(
          {
            countries : { $in : searchCountries}
          },
          {
            projection: {
              title: 1,
            }
          }
        )
    } catch (e) {
      console.error(`Unable to issue find command, ${e}`)
      return []
    }

    return cursor.toArray()
  }
	```