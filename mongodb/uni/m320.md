<!-- TITLE: M320 -->
<!-- SUBTITLE: M320 Data Modelling -->

# Prerequisites
* Crows Feet Data Modelling notation: http://www2.cs.uregina.ca/~bernatja/crowsfoot.html.
* Nice blog: https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-1 by William Zola of MongoDB.

# Overview
A flexible data model; only prereq is a primary key and data is stored in BSON.

The fact that MongoDB is schemaless is more a benefit than a requirement. Schema (document validation) can be associated to a collection; a schema itself can be flexible.

When considering the data model, you must consider:
1. Usage (of data) patterns
2. How data is accessed (reads and writes)
3. Which queries are critical
4. Ratios between reads and writes

And remember, these change over time, and therefore, the flexible model of MongoDB allows for changes over time.

Although historically, the MongoDB approach has been, stored everything in one document (up to 16MB), with the introduction of `$lookup`, many to many relationships can be better supported.

Note also, as noted [here - which may not still be valid](https://www.infoq.com/articles/Starting-With-MongoDB/), keep the number of array items within a single document within four digits.

# MongoDB Document Model
* Many Databases
	* Many Collection
		* Many documents

Documents are JSON (key:value pairs); stored as BSON. JSON has few data types, BSON has more defined [data types](https://docs.mongodb.com/manual/reference/bson-types/).